!function(e,t){if("object"==typeof module&&module.exports)module.exports=function(e){return e.contextMenu=t(e),e.contextMenu};else if("function"==typeof define&&define.amd){try{var n=require("d3")}catch(t){n=e.d3}n.contextMenu=t(n),define([],function(){return n.contextMenu})}else e.d3&&(e.d3.contextMenu=t(e.d3))}(this,function(e){return function(t,n){var o,i,l;return"function"==typeof n?o=n:(o=(n=n||{}).onOpen,i=n.onClose,l=n.position),function(n,c){var u=this,d=function(){e.select("body").on("click.d3-context-menu",null),e.selectAll(".d3-context-menu").size()>0&&(e.selectAll(".d3-context-menu").remove(),i&&i(n,u,c))};if(d(),e.select("body").on("click.d3-context-menu",d),e.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu"),e.selectAll(".d3-context-menu").on("contextmenu",function(t){e.event.preventDefault(),e.event.stopPropagation(),d()}).append("ul").selectAll("li").data("function"==typeof t?t(n,u,c):t).enter().append("li").attr("class",function(e){var t="";return e.divider&&(t+=" is-divider"),e.disabled&&(t+=" is-disabled"),e.action||(t+=" is-header"),t}).html(function(e){return e.divider?"<hr>":(e.title||console.error("No title attribute set. Check the spelling of your options."),"string"==typeof e.title?e.title:e.title(n,u,c))}).on("click",function(e,t){e.disabled||e.action&&(e.action(n,u,c),d())}),!o||!1!==o(n,u,c)){var r="function"==typeof l?l(n,u,c):l;e.select(".d3-context-menu").style("left",(r?r.left:e.event.pageX-2)+"px").style("top",(r?r.top:e.event.pageY-2)+"px").style("display","block"),e.event.preventDefault(),e.event.stopPropagation()}}}});
